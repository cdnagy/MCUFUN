/*
 * lidar.c
 *
 *  Created on: Sep 3, 2019
 *      Author: chris
 */

#include "lidar.h"




void lidarTask(void)
{
    HAL_Delay(1);
}

void lidarMotorOn(void)
{
	HAL_GPIO_WritePin(GPIOD,GPIO_PIN_6,GPIO_PIN_SET);
	app.lidar_motor_state = 1;
}

void lidarMotorOff(void)
{
	HAL_GPIO_WritePin(GPIOD,GPIO_PIN_6,GPIO_PIN_RESET);
	app.lidar_motor_state = 0;
}

void lidarGetInfo(void)
{
	uint8_t lidar_command[2] = {LIDAR_START_BYTE, LIDAR_CMD_GET_INFO};
	uart2SendData(lidar_command, sizeof(lidar_command));
}

void lidarScan(void)
{
	lidarMotorOn();
	uint8_t lidar_command[2] = {LIDAR_START_BYTE, LIDAR_CMD_SCAN};
	uart2SendData(lidar_command, sizeof(lidar_command));

}
